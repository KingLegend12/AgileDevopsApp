{"ast":null,"code":"import axios from \"axios\";\nconst rootUrl = \"http://localhost:3001/v1/\";\nconst loginUrl = rootUrl + \"user/login\";\nexport const userLogin = frmData => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const res = await axios.post(loginUrl, frmData);\n      resolve(res.data);\n\n      if (res.data.status === \"success\") {\n        sessionStorage.setItem(\"accessJWT\", res.data.accessJWT);\n        localStorage.setItem(\"crmSite\", JSON.stringify({\n          refreshJWT: res.data.refreshJWT\n        }));\n      }\n    } catch (error) {\n      reject(error);\n    }\n  });\n};","map":{"version":3,"sources":["/Users/drissjd/Desktop/InternShipApp/internship_frontend/src/api/userApi.js"],"names":["axios","rootUrl","loginUrl","userLogin","frmData","Promise","resolve","reject","res","post","data","status","sessionStorage","setItem","accessJWT","localStorage","JSON","stringify","refreshJWT","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,2BAAhB;AACA,MAAMC,QAAQ,GAAGD,OAAO,GAAG,YAA3B;AAEA,OAAO,MAAME,SAAS,GAAIC,OAAD,IAAa;AACpC,SAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC5C,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMR,KAAK,CAACS,IAAN,CAAWP,QAAX,EAAqBE,OAArB,CAAlB;AAEAE,MAAAA,OAAO,CAACE,GAAG,CAACE,IAAL,CAAP;;AAEA,UAAIF,GAAG,CAACE,IAAJ,CAASC,MAAT,KAAoB,SAAxB,EAAmC;AACjCC,QAAAA,cAAc,CAACC,OAAf,CAAuB,WAAvB,EAAoCL,GAAG,CAACE,IAAJ,CAASI,SAA7C;AACAC,QAAAA,YAAY,CAACF,OAAb,CACE,SADF,EAEEG,IAAI,CAACC,SAAL,CAAe;AAAEC,UAAAA,UAAU,EAAEV,GAAG,CAACE,IAAJ,CAASQ;AAAvB,SAAf,CAFF;AAID;AACF,KAZD,CAYE,OAAOC,KAAP,EAAc;AACdZ,MAAAA,MAAM,CAACY,KAAD,CAAN;AACD;AACF,GAhBM,CAAP;AAiBD,CAlBM","sourcesContent":["import axios from \"axios\";\n\nconst rootUrl = \"http://localhost:3001/v1/\";\nconst loginUrl = rootUrl + \"user/login\";\n\nexport const userLogin = (frmData) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const res = await axios.post(loginUrl, frmData);\n\n      resolve(res.data);\n\n      if (res.data.status === \"success\") {\n        sessionStorage.setItem(\"accessJWT\", res.data.accessJWT);\n        localStorage.setItem(\n          \"crmSite\",\n          JSON.stringify({ refreshJWT: res.data.refreshJWT })\n        );\n      }\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n"]},"metadata":{},"sourceType":"module"}