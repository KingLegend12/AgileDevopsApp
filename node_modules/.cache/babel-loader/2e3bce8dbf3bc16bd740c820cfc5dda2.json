{"ast":null,"code":"import React,{useEffect}from\"react\";import{BoxLoading,WindMillLoading}from\"react-loadingg\";import{Table,Container,Col}from\"react-bootstrap\";import{useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import paginationFactory from\"react-bootstrap-table2-paginator\";import BootstrapTable from\"react-bootstrap-table-next\";import{fetchAllTickets}from\"../../pages/ticket-lists/ticketsAction\";import{useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var TicketTable=function TicketTable(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.tickets;}),searchTicketList=_useSelector.searchTicketList,isLoading=_useSelector.isLoading,error=_useSelector.error;useEffect(function(){dispatch(fetchAllTickets());},[dispatch]);var data=searchTicketList;if(isLoading)return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(WindMillLoading,{}),/*#__PURE__*/_jsx(\"h3\",{style:{\"text-align\":\"center\",\"margin-top\":\"150px\",color:\"cyan\"},children:\"Loading...\"})]});if(error)return/*#__PURE__*/_jsx(\"h3\",{children:error});var columns=[{dataField:\"_id\",text:\"Identifiant du ticket\"},{dataField:\"subject\",text:\"Sujet\",formatter:function formatter(cell,row,rowIndex,extraData){return/*#__PURE__*/_jsx(Link,{to:\"/ticket/\".concat(row._id),children:row.subject});}},{dataField:\"status\",text:\"Status\"},{dataField:\"priority\",text:\"Priorité\",style:function style(cell,row,rowIndex,colIndex){if(cell===\"Elevée\"){return{backgroundColor:\"red\"};}else if(cell===\"Moyenne\"){return{backgroundColor:\"orange\"};}return{backgroundColor:\"green\"};}},{dataField:\"openAt\",text:\"Date d'ouverture\"}];return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(BootstrapTable,{classes:\"table table-striped table-dark\",hover:true,keyField:\"id\",data:data,columns:columns,responsive:true,pagination:paginationFactory()})});};","map":{"version":3,"sources":["/Users/drissjd/Desktop/InternShipApp/internship_frontend/src/components/Ticket-table/TicketTable.comp.js"],"names":["React","useEffect","BoxLoading","WindMillLoading","Table","Container","Col","useSelector","Link","paginationFactory","BootstrapTable","fetchAllTickets","useDispatch","TicketTable","dispatch","state","tickets","searchTicketList","isLoading","error","data","color","columns","dataField","text","formatter","cell","row","rowIndex","extraData","_id","subject","style","colIndex","backgroundColor"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,CAAqBC,eAArB,KAA4C,gBAA5C,CACA,OAASC,KAAT,CAAgBC,SAAhB,CAA2BC,GAA3B,KAAsC,iBAAtC,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,kCAA9B,CACA,MAAOC,CAAAA,cAAP,KAA2B,4BAA3B,CACA,OAASC,eAAT,KAAgC,wCAAhC,CACA,OAASC,WAAT,KAA4B,aAA5B,C,wFAEA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAC/B,GAAMC,CAAAA,QAAQ,CAAGF,WAAW,EAA5B,CACA,iBAA+CL,WAAW,CACxD,SAACQ,KAAD,QAAWA,CAAAA,KAAK,CAACC,OAAjB,EADwD,CAA1D,CAAQC,gBAAR,cAAQA,gBAAR,CAA0BC,SAA1B,cAA0BA,SAA1B,CAAqCC,KAArC,cAAqCA,KAArC,CAGAlB,SAAS,CAAC,UAAM,CACda,QAAQ,CAACH,eAAe,EAAhB,CAAR,CACD,CAFQ,CAEN,CAACG,QAAD,CAFM,CAAT,CAGA,GAAMM,CAAAA,IAAI,CAAGH,gBAAb,CACA,GAAIC,SAAJ,CACE,mBACE,oCACE,KAAC,eAAD,IADF,cAEE,WACE,KAAK,CAAE,CACL,aAAc,QADT,CAEL,aAAc,OAFT,CAGLG,KAAK,CAAE,MAHF,CADT,wBAFF,GADF,CAeF,GAAIF,KAAJ,CAAW,mBAAO,oBAAKA,KAAL,EAAP,CAEX,GAAMG,CAAAA,OAAO,CAAG,CACd,CACEC,SAAS,CAAE,KADb,CAEEC,IAAI,CAAE,uBAFR,CADc,CAKd,CACED,SAAS,CAAE,SADb,CAEEC,IAAI,CAAE,OAFR,CAGEC,SAAS,CAAE,mBAACC,IAAD,CAAOC,GAAP,CAAYC,QAAZ,CAAsBC,SAAtB,qBACT,KAAC,IAAD,EAAM,EAAE,mBAAaF,GAAG,CAACG,GAAjB,CAAR,UAAiCH,GAAG,CAACI,OAArC,EADS,EAHb,CALc,CAYd,CAAER,SAAS,CAAE,QAAb,CAAuBC,IAAI,CAAE,QAA7B,CAZc,CAad,CACED,SAAS,CAAE,UADb,CAEEC,IAAI,CAAE,UAFR,CAGEQ,KAAK,CAAE,eAACN,IAAD,CAAOC,GAAP,CAAYC,QAAZ,CAAsBK,QAAtB,CAAmC,CACxC,GAAIP,IAAI,GAAK,QAAb,CAAuB,CACrB,MAAO,CACLQ,eAAe,CAAE,KADZ,CAAP,CAGD,CAJD,IAIO,IAAIR,IAAI,GAAK,SAAb,CAAwB,CAC7B,MAAO,CACLQ,eAAe,CAAE,QADZ,CAAP,CAGD,CACD,MAAO,CACLA,eAAe,CAAE,OADZ,CAAP,CAGD,CAhBH,CAbc,CA+Bd,CAAEX,SAAS,CAAE,QAAb,CAAuBC,IAAI,CAAE,kBAA7B,CA/Bc,CAAhB,CAiCA,mBACE,KAAC,SAAD,wBA4CE,KAAC,cAAD,EACE,OAAO,CAAC,gCADV,CAEE,KAAK,KAFP,CAGE,QAAQ,CAAC,IAHX,CAIE,IAAI,CAAEJ,IAJR,CAKE,OAAO,CAAEE,OALX,CAME,UAAU,KANZ,CAOE,UAAU,CAAEb,iBAAiB,EAP/B,EA5CF,EADF,CAwDD,CApHM","sourcesContent":["import React, { useEffect } from \"react\";\nimport { BoxLoading, WindMillLoading } from \"react-loadingg\";\nimport { Table, Container, Col } from \"react-bootstrap\";\nimport { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport { fetchAllTickets } from \"../../pages/ticket-lists/ticketsAction\";\nimport { useDispatch } from \"react-redux\";\n\nexport const TicketTable = () => {\n  const dispatch = useDispatch();\n  const { searchTicketList, isLoading, error } = useSelector(\n    (state) => state.tickets\n  );\n  useEffect(() => {\n    dispatch(fetchAllTickets());\n  }, [dispatch]);\n  const data = searchTicketList;\n  if (isLoading)\n    return (\n      <div>\n        <WindMillLoading />\n        <h3\n          style={{\n            \"text-align\": \"center\",\n            \"margin-top\": \"150px\",\n            color: \"cyan\",\n          }}\n        >\n          Loading...\n        </h3>\n      </div>\n    );\n\n  if (error) return <h3>{error}</h3>;\n\n  const columns = [\n    {\n      dataField: \"_id\",\n      text: \"Identifiant du ticket\",\n    },\n    {\n      dataField: \"subject\",\n      text: \"Sujet\",\n      formatter: (cell, row, rowIndex, extraData) => (\n        <Link to={`/ticket/${row._id}`}>{row.subject}</Link>\n      ),\n    },\n    { dataField: \"status\", text: \"Status\" },\n    {\n      dataField: \"priority\",\n      text: \"Priorité\",\n      style: (cell, row, rowIndex, colIndex) => {\n        if (cell === \"Elevée\") {\n          return {\n            backgroundColor: \"red\",\n          };\n        } else if (cell === \"Moyenne\") {\n          return {\n            backgroundColor: \"orange\",\n          };\n        }\n        return {\n          backgroundColor: \"green\",\n        };\n      },\n    },\n    { dataField: \"openAt\", text: \"Date d'ouverture\" },\n  ];\n  return (\n    <Container>\n      {/*<Table className=\"table table-striped table-dark\" hover>\n        <thead>\n          <tr>\n            <th>Identifiant du ticket</th>\n            <th>Sujet</th>\n            <th>Status</th>\n            <th>Priorité</th>\n            <th>Date d'ouverture</th>\n          </tr>\n        </thead>\n        <tbody>\n          {searchTicketList.length ? (\n            searchTicketList.map((row) => (\n              <tr>\n                <td>{row._id}</td>\n                <td>\n                  <Link to={`/ticket/${row._id}`}>{row.subject}</Link>\n                </td>\n                <td>{row.status}</td>\n                <td\n                  style={{\n                    backgroundColor:\n                      row.priority == \"Elevée\"\n                        ? \"red\"\n                        : row.priority == \"Moyenne\"\n                        ? \"orange\"\n                        : \"green\",\n                  }}\n                >\n                  {row.priority}\n                </td>\n                <td>{row.openAt && new Date(row.openAt).toLocaleString()}</td>\n              </tr>\n            ))\n          ) : (\n            <tr>\n              <td colSpan=\"5\" className=\"text-center\">\n                Vous n'avez auncun ticket de reclamation en cours{\"\"}\n              </td>\n            </tr>\n          )}\n        </tbody>\n          </Table> */}\n      <BootstrapTable\n        classes=\"table table-striped table-dark\"\n        hover\n        keyField=\"id\"\n        data={data}\n        columns={columns}\n        responsive\n        pagination={paginationFactory()}\n      />\n    </Container>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}