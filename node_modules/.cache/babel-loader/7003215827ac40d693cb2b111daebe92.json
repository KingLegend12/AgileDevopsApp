{"ast":null,"code":"var _jsxFileName = \"/Users/drissjd/Desktop/InternShipApp/internship_frontend/src/components/Ticket-table/TicketTable.comp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { BoxLoading, WindMillLoading } from \"react-loadingg\";\nimport { Table, Container, Col } from \"react-bootstrap\";\nimport { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport { fetchAllTickets } from \"../../pages/ticket-lists/ticketsAction\";\nimport { useDispatch } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TicketTable = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    searchTicketList,\n    isLoading,\n    error\n  } = useSelector(state => state.tickets);\n  useEffect(() => {\n    dispatch(fetchAllTickets());\n  }, [dispatch]);\n  const data = searchTicketList;\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(WindMillLoading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        \"text-align\": \"center\",\n        \"margin-top\": \"150px\",\n        color: \"cyan\"\n      },\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 7\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"h3\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 21\n  }, this);\n  const columns = [{\n    dataField: \"_id\",\n    text: \"Identifiant du ticket\"\n  }, {\n    dataField: \"subject\",\n    text: \"Sujet\",\n    formatter: (cell, row, rowIndex, extraData) => /*#__PURE__*/_jsxDEV(Link, {\n      to: `/ticket/${row._id}`,\n      children: row.subject\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)\n  }, {\n    dataField: \"status\",\n    text: \"Status\"\n  }, {\n    dataField: \"priority\",\n    text: \"Priorité\",\n    style: (cell, row, rowIndex, colIndex) => {\n      if (cell === \"Elevée\") {\n        return {\n          backgroundColor: \"red\"\n        };\n      } else if (cell === \"Moyenne\") {\n        return {\n          backgroundColor: \"orange\"\n        };\n      }\n\n      return {\n        backgroundColor: \"green\"\n      };\n    }\n  }, {\n    dataField: \"openAt\",\n    text: \"Date d'ouverture\"\n  }];\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(BootstrapTable, {\n      condensed: true,\n      striped: true,\n      hover: true,\n      keyField: \"id\",\n      data: data,\n      columns: columns,\n      pagination: paginationFactory()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TicketTable, \"EGmKlV7fRIqHJyeB8LA7z/wTOac=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = TicketTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"TicketTable\");","map":{"version":3,"sources":["/Users/drissjd/Desktop/InternShipApp/internship_frontend/src/components/Ticket-table/TicketTable.comp.js"],"names":["React","useEffect","BoxLoading","WindMillLoading","Table","Container","Col","useSelector","Link","paginationFactory","BootstrapTable","fetchAllTickets","useDispatch","TicketTable","dispatch","searchTicketList","isLoading","error","state","tickets","data","color","columns","dataField","text","formatter","cell","row","rowIndex","extraData","_id","subject","style","colIndex","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { BoxLoading, WindMillLoading } from \"react-loadingg\";\nimport { Table, Container, Col } from \"react-bootstrap\";\nimport { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport { fetchAllTickets } from \"../../pages/ticket-lists/ticketsAction\";\nimport { useDispatch } from \"react-redux\";\n\nexport const TicketTable = () => {\n  const dispatch = useDispatch();\n  const { searchTicketList, isLoading, error } = useSelector(\n    (state) => state.tickets\n  );\n  useEffect(() => {\n    dispatch(fetchAllTickets());\n  }, [dispatch]);\n  const data = searchTicketList;\n  if (isLoading)\n    return (\n      <div>\n        <WindMillLoading />\n        <h3\n          style={{\n            \"text-align\": \"center\",\n            \"margin-top\": \"150px\",\n            color: \"cyan\",\n          }}\n        >\n          Loading...\n        </h3>\n      </div>\n    );\n\n  if (error) return <h3>{error}</h3>;\n\n  const columns = [\n    {\n      dataField: \"_id\",\n      text: \"Identifiant du ticket\",\n    },\n    {\n      dataField: \"subject\",\n      text: \"Sujet\",\n      formatter: (cell, row, rowIndex, extraData) => (\n        <Link to={`/ticket/${row._id}`}>{row.subject}</Link>\n      ),\n    },\n    { dataField: \"status\", text: \"Status\" },\n    {\n      dataField: \"priority\",\n      text: \"Priorité\",\n      style: (cell, row, rowIndex, colIndex) => {\n        if (cell === \"Elevée\") {\n          return {\n            backgroundColor: \"red\",\n          };\n        } else if (cell === \"Moyenne\") {\n          return {\n            backgroundColor: \"orange\",\n          };\n        }\n        return {\n          backgroundColor: \"green\",\n        };\n      },\n    },\n    { dataField: \"openAt\", text: \"Date d'ouverture\" },\n  ];\n  return (\n    <Container>\n      {/*<Table className=\"table table-striped table-dark\" hover>\n        <thead>\n          <tr>\n            <th>Identifiant du ticket</th>\n            <th>Sujet</th>\n            <th>Status</th>\n            <th>Priorité</th>\n            <th>Date d'ouverture</th>\n          </tr>\n        </thead>\n        <tbody>\n          {searchTicketList.length ? (\n            searchTicketList.map((row) => (\n              <tr>\n                <td>{row._id}</td>\n                <td>\n                  <Link to={`/ticket/${row._id}`}>{row.subject}</Link>\n                </td>\n                <td>{row.status}</td>\n                <td\n                  style={{\n                    backgroundColor:\n                      row.priority == \"Elevée\"\n                        ? \"red\"\n                        : row.priority == \"Moyenne\"\n                        ? \"orange\"\n                        : \"green\",\n                  }}\n                >\n                  {row.priority}\n                </td>\n                <td>{row.openAt && new Date(row.openAt).toLocaleString()}</td>\n              </tr>\n            ))\n          ) : (\n            <tr>\n              <td colSpan=\"5\" className=\"text-center\">\n                Vous n'avez auncun ticket de reclamation en cours{\"\"}\n              </td>\n            </tr>\n          )}\n        </tbody>\n          </Table> */}\n      <BootstrapTable\n        condensed\n        striped\n        hover\n        keyField=\"id\"\n        data={data}\n        columns={columns}\n        pagination={paginationFactory()}\n      />\n    </Container>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}